{"level":"error","timestamp":"2025-03-20T16:27:07.769Z"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'findMany')\n    at Object.getAllCompanies (D:\\work\\noflexi\\data-service\\src\\services\\companyService.js:7:27)\n    at D:\\work\\noflexi\\data-service\\src\\routes\\companies.js:9:44\n    at Layer.handle [as handle_request] (D:\\work\\noflexi\\data-service\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\work\\noflexi\\data-service\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\work\\noflexi\\data-service\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\work\\noflexi\\data-service\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\work\\noflexi\\data-service\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\work\\noflexi\\data-service\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\work\\noflexi\\data-service\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\work\\noflexi\\data-service\\node_modules\\express\\lib\\router\\index.js:175:3)","timestamp":"2025-03-20T16:50:15.821Z"}
{"level":"error","timestamp":"2025-03-20T23:56:33.750Z"}
{"level":"error","timestamp":"2025-03-26T02:05:17.833Z"}
{"level":"error","timestamp":"2025-03-26T02:05:36.228Z"}
{"level":"error","message":"Error: L'ID de l'entreprise est requis\n    at Object.createUser (D:\\work\\flexpaie\\data-service\\src\\services\\userService.js:57:13)\n    at D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:32:36\n    at Layer.handle [as handle_request] (D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at D:\\work\\flexpaie\\data-service\\src\\utils\\validators.js:9:3\n    at Layer.handle [as handle_request] (D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\index.js:284:15","timestamp":"2025-03-26T13:36:11.435Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.company.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\companyService.js:57:27\n\n  54 \n  55 // Créer une nouvelle entreprise\n  56 async createCompany(companyData) {\n→ 57   return prisma.company.create(\nUnique constraint failed on the fields: (`iceNumber`)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\companies.js:45:21","timestamp":"2025-03-26T13:55:30.729Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.company.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\companyService.js:57:27\n\n  54 \n  55 // Créer une nouvelle entreprise\n  56 async createCompany(companyData) {\n→ 57   return prisma.company.create(\nUnique constraint failed on the fields: (`iceNumber`)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\companies.js:45:21","timestamp":"2025-03-26T13:56:46.187Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.company.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\companyService.js:57:27\n\n  54 \n  55 // Créer une nouvelle entreprise\n  56 async createCompany(companyData) {\n→ 57   return prisma.company.create(\nUnique constraint failed on the fields: (`iceNumber`)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\companies.js:45:21","timestamp":"2025-03-26T14:24:46.122Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.company.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\companyService.js:57:27\n\n  54 \n  55 // Créer une nouvelle entreprise\n  56 async createCompany(companyData) {\n→ 57   return prisma.company.create(\nUnique constraint failed on the fields: (`registryNumber`)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\companies.js:45:21","timestamp":"2025-03-26T14:24:54.045Z"}
{"level":"error","message":"PrismaClientKnownRequestError: \nInvalid `prisma.company.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\companyService.js:57:27\n\n  54 \n  55 // Créer une nouvelle entreprise\n  56 async createCompany(companyData) {\n→ 57   return prisma.company.create(\nUnique constraint failed on the fields: (`iceNumber`)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7534)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\companies.js:45:21","timestamp":"2025-03-26T14:36:01.132Z"}
{"level":"error","message":"TypeError: employeeService.createEmployeeWithUser is not a function\n    at D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:42\n    at Layer.handle [as handle_request] (D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (D:\\work\\flexpaie\\data-service\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2025-04-02T18:38:23.572Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.employee.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:49\n\n  28 });\n  29 \n  30 // Créer l'employé et l'associer à l'utilisateur\n→ 31 const newEmployee = await prisma.employee.create({\n       data: {\n         nationalId: \"j52121\",\n         birthDate: \"1990-10-22\",\n         birthPlace: \"Agadir\",\n         maritalStatus: \"Married\",\n         childrenCount: \"1\",\n         address: \"bloc b numéro 64 Bensergao\",\n         phone: \"0601893447\",\n         email: \"abdallah.baddi@outlook.com\",\n         employeeNumber: \"1\",\n         hireDate: \"2025-04-01\",\n         jobTitle: \"Dev Front\",\n         baseSalary: \"9000\",\n         companyId: \"cm8q20jb70001tgvof9xct5lw\",\n         user: {\n           connect: {\n             id: \"cm90a1xft0000tg6k3f5h39pd\"\n           }\n         },\n     +   lastName: String\n       }\n     })\n\nArgument `lastName` is missing.\n    at Cn (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:27)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T18:45:37.401Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.employee.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:49\n\n  28 });\n  29 \n  30 // Créer l'employé et l'associer à l'utilisateur\n→ 31 const newEmployee = await prisma.employee.create({\n       data: {\n         nationalId: \"J2154\",\n         lastName: \"baddi\",\n         firstName: \"abdallah\",\n         birthDate: \"1986-10-22\",\n         birthPlace: \"Agadir\",\n         maritalStatus: \"Married\",\n         childrenCount: \"1\",\n         address: \"B2 N64 Anouar Bensergao Agadir\",\n         phone: \"0601893447\",\n         email: \"abdallah.baddi@gmail.com\",\n         employeeNumber: \"1\",\n         hireDate: \"2025-01-01\",\n         jobTitle: \"Dev Front\",\n         baseSalary: \"9000\",\n         companyId: \"cm8q20jb70001tgvof9xct5lw\",\n         user: {\n           connect: {\n             id: \"cm90apb1c0003tg6ky7umfxda\"\n           }\n         },\n     +   gender: String\n       }\n     })\n\nArgument `gender` is missing.\n    at Cn (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:27)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T19:03:48.006Z"}
{"level":"error","message":"Error: Un utilisateur avec cet email existe déjà.\n    at Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:15:15)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T19:18:32.639Z"}
{"level":"error","message":"Error: Un utilisateur avec cet email existe déjà.\n    at Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:15:15)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T19:19:03.089Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.employee.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:49\n\n  28 });\n  29 \n  30 // Créer l'employé et l'associer à l'utilisateur\n→ 31 const newEmployee = await prisma.employee.create({\n       data: {\n         nationalId: \"J429058\",\n         lastName: \"baddi\",\n         firstName: \"abdallah\",\n         birthDate: \"1986-10-22\",\n         birthPlace: \"Agadir\",\n         childrenCount: \"1\",\n         address: \"B2 N64 Anouar Bensergao\",\n         phone: \"0601893447\",\n         email: \"abdallah.baddi@mail.com\",\n         employeeNumber: \"1\",\n         hireDate: \"2025-02-01\",\n         jobTitle: \"Dev Front\",\n         department: \"Thechnique\",\n         baseSalary: \"9000\",\n         companyId: \"cm8q20jb70001tgvof9xct5lw\",\n         user: {\n           connect: {\n             id: \"cm90b97kw0006tg6ky70dhzob\"\n           }\n         },\n     +   gender: String\n       }\n     })\n\nArgument `gender` is missing.\n    at Cn (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:27)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T19:19:16.649Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.employee.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:49\n\n  28 });\n  29 \n  30 // Créer l'employé et l'associer à l'utilisateur\n→ 31 const newEmployee = await prisma.employee.create({\n       data: {\n         nationalId: \"321645\",\n         lastName: \"baddi\",\n         firstName: \"abdallah\",\n         birthDate: \"2024-12-22\",\n         birthPlace: \"agadir\",\n         gender: \"Male\",\n         phone: \"06215487\",\n         email: \"ab@mail.com\",\n         employeeNumber: \"2\",\n         hireDate: \"2025-01-01\",\n         jobTitle: \"Dev\",\n         department: \"Technique\",\n         baseSalary: \"9000\",\n         companyId: \"cm8q20jb70001tgvof9xct5lw\",\n         user: {\n           connect: {\n             id: \"cm90bsmku0009tg6kpi3fm7oq\"\n           }\n         },\n     +   maritalStatus: String\n       }\n     })\n\nArgument `maritalStatus` is missing.\n    at Cn (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:27)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T19:34:22.548Z"}
{"level":"error","message":"Error: Un utilisateur avec cet email existe déjà.\n    at Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:15:15)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T19:39:09.047Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.employee.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:49\n\n  28 });\n  29 \n  30 // Créer l'employé et l'associer à l'utilisateur\n→ 31 const newEmployee = await prisma.employee.create({\n       data: {\n         nationalId: \"321645\",\n         lastName: \"baddi\",\n         firstName: \"abdallah \",\n         birthDate: \"2024-12-22\",\n         birthPlace: \"agadir\",\n         gender: \"Male\",\n         phone: \"06215487\",\n         email: \"abb@mail.com\",\n         employeeNumber: \"2\",\n         hireDate: \"2025-01-01\",\n         jobTitle: \"Dev\",\n         department: \"Technique\",\n         baseSalary: \"9000\",\n         companyId: \"cm8q20jb70001tgvof9xct5lw\",\n         user: {\n           connect: {\n             id: \"cm90bz9rx000ctg6k7xw0cewv\"\n           }\n         },\n     +   maritalStatus: String\n       }\n     })\n\nArgument `maritalStatus` is missing.\n    at Cn (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:27)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T19:39:32.547Z"}
{"level":"error","message":"Error: Un utilisateur avec cet email existe déjà.\n    at Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:15:15)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T19:41:56.769Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.employee.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:49\n\n  28 });\n  29 \n  30 // Créer l'employé et l'associer à l'utilisateur\n→ 31 const newEmployee = await prisma.employee.create({\n       data: {\n         nationalId: \"321645\",\n         lastName: \"baddi\",\n         firstName: \"abdallah \",\n         birthDate: \"2024-12-22\",\n         birthPlace: \"agadir\",\n         gender: \"Male\",\n         maritalStatus: \"Single\",\n         phone: \"06215487\",\n         email: \"abzb@mail.com\",\n         employeeNumber: \"2\",\n         hireDate: \"2025-01-01\",\n         jobTitle: \"Dev\",\n         department: \"Technique\",\n         baseSalary: \"9000\",\n         companyId: \"cm8q20jb70001tgvof9xct5lw\",\n         user: {\n           connect: {\n             id: \"cm90c2iay000ftg6khbhlre18\"\n           }\n         },\n     +   contractType: String\n       }\n     })\n\nArgument `contractType` is missing.\n    at Cn (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:27)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T19:42:03.569Z"}
{"level":"error","message":"Error: Un utilisateur avec cet email existe déjà.\n    at Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:15:15)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T19:42:28.285Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.employee.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:49\n\n  28 });\n  29 \n  30 // Créer l'employé et l'associer à l'utilisateur\n→ 31 const newEmployee = await prisma.employee.create({\n       data: {\n         nationalId: \"321645\",\n         lastName: \"baddi\",\n         firstName: \"abdallah \",\n         birthDate: \"2024-12-22\",\n         birthPlace: \"agadir\",\n         gender: \"Male\",\n         maritalStatus: \"Single\",\n         phone: \"06215487\",\n         email: \"abzbe@mail.com\",\n         employeeNumber: \"2\",\n         hireDate: \"2025-01-01\",\n         jobTitle: \"Dev\",\n         department: \"Technique\",\n         contractType: \"Permanent\",\n         baseSalary: \"9000\",\n         companyId: \"cm8q20jb70001tgvof9xct5lw\",\n         user: {\n           connect: {\n             id: \"cm90c36qq000itg6kmpmbh2qe\"\n           }\n         },\n     +   paymentMethod: String\n       }\n     })\n\nArgument `paymentMethod` is missing.\n    at Cn (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:27)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T19:42:35.238Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.employee.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:49\n\n  28 });\n  29 \n  30 // Créer l'employé et l'associer à l'utilisateur\n→ 31 const newEmployee = await prisma.employee.create({\n       data: {\n         nationalId: \"J46545\",\n         lastName: \"Baddi\",\n         firstName: \"Abdallah\",\n         birthDate: \"1986-10-22\",\n                    ~~~~~~~~~~~~\n         birthPlace: \"Essaouira\",\n         gender: \"Male\",\n         maritalStatus: \"Married\",\n         childrenCount: \"1\",\n         address: \"Bloc b2 N 64 \",\n         phone: \"0601893447\",\n         email: \"abdallah.baddi@gmail.com\",\n         employeeNumber: \"14147\",\n         hireDate: \"2025-02-01\",\n         jobTitle: \"Dev Front\",\n         department: \"Thechnique\",\n         contractType: \"Permanent\",\n         baseSalary: \"9000\",\n         paymentMethod: \"Bank Transfer\",\n         companyId: \"cm8q20jb70001tgvof9xct5lw\",\n         user: {\n           connect: {\n             id: \"cm90e1mp2000ltg6k0mu058z5\"\n           }\n         }\n       }\n     })\n\nInvalid value for argument `birthDate`: premature end of input. Expected ISO-8601 DateTime.\n    at Cn (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:27)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T20:37:22.013Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.employee.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:49\n\n  28 });\n  29 \n  30 // Créer l'employé et l'associer à l'utilisateur\n→ 31 const newEmployee = await prisma.employee.create({\n       data: {\n         nationalId: \"J5421\",\n         lastName: \"abdallah\",\n         firstName: \"baddi\",\n         birthDate: \"1986-10-22\",\n                    ~~~~~~~~~~~~\n         birthPlace: \"Essouira\",\n         gender: \"Male\",\n         maritalStatus: \"Married\",\n         childrenCount: \"1\",\n         address: \"Bloc 2 N 64\",\n         phone: \"0601893447\",\n         email: \"abdallah.baddi@outlook\",\n         employeeNumber: \"32154\",\n         hireDate: \"2025-01-01\",\n         jobTitle: \"Dev\",\n         contractType: \"Permanent\",\n         baseSalary: \"9000\",\n         paymentMethod: \"Bank Transfer\",\n         companyId: \"cm8q20jb70001tgvof9xct5lw\",\n         user: {\n           connect: {\n             id: \"cm90eikq6000otg6koci99ivj\"\n           }\n         }\n       }\n     })\n\nInvalid value for argument `birthDate`: premature end of input. Expected ISO-8601 DateTime.\n    at Cn (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:27)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T20:50:32.453Z"}
{"level":"error","message":"Error: Un utilisateur avec cet email existe déjà.\n    at Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:15:15)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T20:57:50.640Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.employee.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:51\n\n  28 });\n  29 \n  30   // Créer l'employé et l'associer à l'utilisateur\n→ 31   const newEmployee = await prisma.employee.create({\n         data: {\n           nationalId: \"J5421\",\n           lastName: \"abdallah\",\n           firstName: \"baddi\",\n           birthDate: new Date(\"1986-10-22T00:00:00.000Z\"),\n           birthPlace: \"Essouira\",\n           gender: \"Male\",\n           maritalStatus: \"Married\",\n           childrenCount: \"1\",\n                          ~~~\n           address: \"Bloc 2 N 64\",\n           phone: \"0601893447\",\n           email: \"abdallah.baddi@outlook\",\n           employeeNumber: \"32154\",\n           hireDate: new Date(\"2025-01-01T00:00:00.000Z\"),\n           jobTitle: \"Dev\",\n           contractType: \"Permanent\",\n           baseSalary: \"9000\",\n           paymentMethod: \"Bank Transfer\",\n           companyId: \"cm8q20jb70001tgvof9xct5lw\",\n           user: {\n             connect: {\n               id: \"cm90esc7q0000tgcwrzunsu62\"\n             }\n           }\n         }\n       })\n\nArgument `childrenCount`: Invalid value provided. Expected Int, provided String.\n    at Cn (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:29)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T20:58:07.971Z"}
{"level":"error","message":"Error: Un utilisateur avec cet email existe déjà.\n    at Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:15:15)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T20:59:33.866Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.employee.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:51\n\n  28 });\n  29 \n  30   // Créer l'employé et l'associer à l'utilisateur\n→ 31   const newEmployee = await prisma.employee.create({\n         data: {\n           nationalId: \"J5421\",\n           lastName: \"abdallah\",\n           firstName: \"baddi\",\n           birthDate: new Date(\"1986-10-22T00:00:00.000Z\"),\n           birthPlace: \"Essouira\",\n           gender: \"Male\",\n           maritalStatus: \"Married\",\n           childrenCount: 1,\n           address: \"Bloc 2 N 64\",\n           phone: \"0601893447\",\n           email: \"abdallah.baddi@outlook\",\n           employeeNumber: \"32154\",\n           hireDate: new Date(\"2025-01-01T00:00:00.000Z\"),\n           jobTitle: \"Dev\",\n           contractType: \"Permanent\",\n           baseSalary: \"9000\",\n                       ~~~~~~\n           paymentMethod: \"Bank Transfer\",\n           companyId: \"cm8q20jb70001tgvof9xct5lw\",\n           user: {\n             connect: {\n               id: \"cm90eui9v0000tg58bv0dmm4h\"\n             }\n           }\n         }\n       })\n\nArgument `baseSalary`: Invalid value provided. Expected Float, provided String.\n    at Cn (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:29)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T20:59:49.136Z"}
{"level":"error","message":"PrismaClientValidationError: \nInvalid `prisma.employee.create()` invocation in\nD:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:51\n\n  28 });\n  29 \n  30   // Créer l'employé et l'associer à l'utilisateur\n→ 31   const newEmployee = await prisma.employee.create({\n         data: {\n           nationalId: \"J5421\",\n           lastName: \"abdallah\",\n           firstName: \"baddi\",\n           birthDate: new Date(\"1986-10-22T00:00:00.000Z\"),\n           birthPlace: \"Essouira\",\n           gender: \"Male\",\n           maritalStatus: \"Married\",\n           childrenCount: 1,\n           address: \"Bloc 2 N 64\",\n           phone: \"0601893447\",\n           email: \"abdallah.baddi@outlook\",\n           employeeNumber: \"32154\",\n           hireDate: new Date(\"2025-01-01T00:00:00.000Z\"),\n           jobTitle: \"Dev\",\n           contractType: \"Permanent\",\n           baseSalary: 9000,\n           paymentMethod: \"Bank Transfer\",\n           companyId: \"cm8q20jb70001tgvof9xct5lw\",\n           user: {\n           ~~~~\n             connect: {\n               id: \"cm90evn740000tg4cu7rsfihh\"\n             }\n           },\n       ?   id?: String,\n       ?   department?: String | Null,\n       ?   bankName?: String | Null,\n       ?   bankAccount?: String | Null,\n       ?   socialSecurityNumber?: String | Null,\n       ?   healthInsuranceNumber?: String | Null,\n       ?   retirementFundNumber?: String | Null,\n       ?   socialSecurityRate?: Float | Null,\n       ?   healthInsuranceRate?: Float | Null,\n       ?   retirementFundRate?: Float | Null,\n       ?   incomeTax?: Float | Null,\n       ?   benefitsInKind?: String | Null,\n       ?   terminationDate?: DateTime | Null,\n       ?   terminationReason?: String | Null,\n       ?   status?: String,\n       ?   userId?: String | Null,\n       ?   createdAt?: DateTime,\n       ?   updatedAt?: DateTime\n         }\n       })\n\nUnknown argument `user`. Did you mean `userId`? Available options are marked with ?.\n    at Cn (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:29:1363)\n    at Wn.handleRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:7177)\n    at Wn.handleAndLogRequestError (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6858)\n    at Wn.request (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:121:6565)\n    at async l (D:\\work\\flexpaie\\data-service\\node_modules\\@prisma\\client\\runtime\\library.js:130:10067)\n    at async Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:31:29)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T21:00:42.286Z"}
{"level":"error","message":"TypeError: Cannot read properties of undefined (reading 'companyId')\n    at Object.createEmployeeWithUser (D:\\work\\flexpaie\\data-service\\src\\services\\employeeService.js:39:46)\n    at async D:\\work\\flexpaie\\data-service\\src\\routes\\users.js:92:20","timestamp":"2025-04-02T21:09:57.047Z"}
